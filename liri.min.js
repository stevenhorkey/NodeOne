require("dotenv").config();var fs=require("fs"),request=require("request"),Spotify=require("node-spotify-api"),Twitter=require("twitter"),keys=require("./key.js"),spotify=new Spotify(keys.spotify),client=new Twitter(keys.twitter),command=process.argv[2],nodeInput=process.argv[3];function myTweets(o){var e={screen_name:"stevedevtech"};client.get("statuses/user_timeline",e,function(o,e,s){if(o)throw o;for(var t=["########","my-tweets"],n=0;n<20;n++)console.log("-----------------------"),t.push("-----------------------"),console.log(e[n].text),t.push(e[n].text),console.log(e[n].created_at),t.push(e[n].created_at),console.log("-----------------------"),t.push("-----------------------");for(var n=0;n<t.length;n++)t[n]=t[n]+"\n";t=(t=t.join("")).replace(",",""),fs.appendFile("log.txt",t,function(o){if(o)return console.log(o)})})}function spotifyThisSong(o){void 0!==o?spotify.search({type:"track",query:o},function(o,e){if(o)return console.log("Error occurred: "+o);var s=["########","spotify-this-song",nodeInput];console.log("----------------------"),s.push("----------------------"),console.log(e.tracks.items[0].artists[0].name),s.push(e.tracks.items[0].artists[0].name),console.log(e.tracks.items[0].name),s.push(e.tracks.items[0].name),console.log(e.tracks.items[0].preview_url),s.push(e.tracks.items[0].preview_url),console.log(e.tracks.items[0].album.name),s.push(e.tracks.items[0].album.name),console.log("----------------------"),s.push("----------------------");for(var t=0;t<s.length;t++)s[t]=s[t]+"\n";s=(s=s.join("")).replace(",",""),fs.appendFile("log.txt",s,function(o){if(o)return console.log(o)})}):spotify.search({type:"track",query:"Zeppelin"},function(o,e){if(o)return console.log("Error occurred: "+o);var s=["########","spotify-this-song",nodeInput];console.log("----------------------"),s.push("----------------------"),console.log(e.tracks.items[0].artists[0].name),s.push(e.tracks.items[0].artists[0].name),console.log(e.tracks.items[0].name),s.push(e.tracks.items[0].name),console.log(e.tracks.items[0].preview_url),s.push(e.tracks.items[0].preview_url),console.log(e.tracks.items[0].album.name),s.push(e.tracks.items[0].album.name),console.log("----------------------"),s.push("----------------------");for(var t=0;t<s.length;t++)s[t]=s[t]+"\n";s=(s=s.join("")).replace(",",""),fs.appendFile("log.txt",s,function(o){if(o)return console.log(o)})})}function movieThis(o){if(o){var e=o.replace(" ","+");request("http://www.omdbapi.com/?t="+e+"&y=&plot=short&apikey=trilogy",function(o,e,s){if(!o&&200===e.statusCode){var t=["########","movie-this",nodeInput];console.log("----------------------"),t.push("----------------------"),console.log(JSON.parse(s).Title),t.push(JSON.parse(s).Title),console.log(JSON.parse(s).Year),t.push(JSON.parse(s).Year),console.log(JSON.parse(s).imdbRating),t.push(JSON.parse(s).imdbRating),console.log(JSON.parse(s).Ratings[1].Value),t.push(JSON.parse(s).Ratings[1].Value),console.log(JSON.parse(s).Country),t.push(JSON.parse(s).Country),console.log(JSON.parse(s).Language),t.push(JSON.parse(s).Language),console.log(JSON.parse(s).Plot),t.push(JSON.parse(s).Plot),console.log(JSON.parse(s).Actors),t.push(JSON.parse(s).Actors),console.log("----------------------"),t.push("----------------------");for(var n=0;n<t.length;n++)t[n]=t[n]+"\n";t=(t=t.join("")).replace(",",""),fs.appendFile("log.txt",t,function(o){if(o)return console.log(o)})}})}else request("http://www.omdbapi.com/?t=mr+nobody&y=&plot=short&apikey=trilogy",function(o,e,s){if(!o&&200===e.statusCode){var t=["########","movie-this"];console.log("----------------------"),t.push("----------------------"),console.log(JSON.parse(s).Title),t.push(JSON.parse(s).Title),console.log(JSON.parse(s).Year),t.push(JSON.parse(s).Year),console.log(JSON.parse(s).imdbRating),t.push(JSON.parse(s).imdbRating),console.log(JSON.parse(s).Ratings[1].Value),t.push(JSON.parse(s).Ratings[1].Value),console.log(JSON.parse(s).Country),t.push(JSON.parse(s).Country),console.log(JSON.parse(s).Language),t.push(JSON.parse(s).Language),console.log(JSON.parse(s).Plot),t.push(JSON.parse(s).Plot),console.log(JSON.parse(s).Actors),t.push(JSON.parse(s).Actors),console.log("----------------------"),t.push("----------------------");for(var n=0;n<t.length;n++)t[n]=t[n]+"\n";t=(t=t.join("")).replace(",",""),fs.appendFile("log.txt",t,function(o){if(o)return console.log(o)})}})}function doWhatItSays(o){var e=require("fs"),s=require("path");e.readFile("random.txt","utf8",function(o,s){if(o)return console.log(o);var t=["########\n",command+"\n"];t=t.join(""),e.appendFile("log.txt",t,function(o){if(o)return console.log(o)}),console.log(s);var n=s.split(",");console.log(n),doThisCommand=n[0],doThisInput=n[1],console.log(doThisCommand),console.log(doThisInput),conditionals(doThisCommand,doThisInput)})}function conditionals(o,e){"my-tweets"===o?myTweets(e):"spotify-this-song"===o?spotifyThisSong(e):"movie-this"===o?movieThis(e):"do-what-it-says"===o?doWhatItSays(e):console.log("error!!!")}conditionals(command,nodeInput);